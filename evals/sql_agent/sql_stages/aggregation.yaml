suite_name: "SQL Aggregation Stage Tests"
suite_description: "Tests for SQL aggregation stage - detecting GROUP BY and aggregate functions"
default_judge_criteria:
  accuracy_threshold: 8.0
  relevance_threshold: 9.0
  completeness_threshold: 8.0
  hallucination_threshold: 9.0

tests:
  - name: "revenue_by_customer_aggregation"
    question: "What is the total revenue by customer?"
    grounding_tables:
      - orders
      - customers
    grounding_columns:
      - customer_id
      - grand_total_amount
      - company_name
    expected_response:
      group_by_columns:
        - customers.customer_id
        - customers.company_name
      aggregate_functions:
        - "SUM(orders.grand_total_amount)"
      requires_aggregation: true
    tags: ["aggregation", "sum", "group_by", "revenue"]
